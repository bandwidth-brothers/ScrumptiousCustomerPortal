<!-- <div *ngIf="customer"> -->

<form [formGroup]="customerProfileForm">
  <p>General information</p>
  <mat-grid-list cols="4" rowHeight="80px" gutterSize="10px">
    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>First Name*</mat-label>
        <input matInput placeholder="First name" formControlName="firstName" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['firstName'].hasError('required')">
          First name is required
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Last Name*</mat-label>
        <input matInput placeholder="Last name" formControlName="lastName" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['lastName'].hasError('required')">
          Last name is required
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Email*</mat-label>
        <input matInput placeholder="pat@example.com" formControlName="email" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['email'].hasError('required')">
          Email is required
        </mat-error>
        <mat-error *ngIf="customerProfileForm.controls['email'].hasError('email')">
          Email must follow standard formatting [pat@example.com]
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="3" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Phone number*</mat-label>
        <input matInput placeholder="555-555-5555" formControlName="phone" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['phone'].hasError('required')">
          Please enter your last name
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Date of birth</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="dob" readonly="{{isReadOnly}}">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker startView="year" [startAt]="startDate" disabled="{{isReadOnly}}"></mat-datepicker>
      </mat-form-field>

    </mat-grid-tile>


  </mat-grid-list>

  <mat-divider></mat-divider>
  <p>Address information</p>

  <mat-grid-list cols="4" rowHeight="75px" gutterSize="10px">

    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Line one*</mat-label>
        <input matInput placeholder="1234 Main St." formControlName="line1" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['line1'].hasError('required')">
          Please enter your street address
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Line two</mat-label>
        <input matInput placeholder="Apt. 34" formControlName="line2" readonly="{{isReadOnly}}">
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>City*</mat-label>
        <input matInput placeholder="New York City" formControlName="city" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['city'].hasError('required')">
          City required
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>State*</mat-label>
        <input matInput *ngIf="isReadOnly" placeholder="NY" formControlName="state" readonly="{{isReadOnly}}">
        <mat-select formControlName="state" *ngIf="!isReadOnly">
          <mat-option *ngFor="let state of states" [value]="state">{{state}}</mat-option>
        </mat-select>

      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Zip code*</mat-label>
        <input matInput placeholder="10001" formControlName="zip" readonly="{{isReadOnly}}">
        <mat-error *ngIf="customerProfileForm.controls['zip'].hasError('required')">
          Zip code required
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

  </mat-grid-list>

  <mat-divider></mat-divider>
  <br>

  <div *ngIf="isReadOnly">
    <button mat-raised-button color="accent" class="full-width" (click)="enableEdit()">Edit</button>
  </div>

  <div *ngIf="!isReadOnly">
    <button mat-raised-button color="primary" class="full-width" [disabled]="customerProfileForm.invalid"
      (click)="updateCustomer()">Save</button>
  </div>

</form>